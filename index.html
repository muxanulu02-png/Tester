<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tester - –ë—ñ–ª—ñ–º —Ç–µ—Å—Ç—ñ–ª–µ—É –∂“Ø–π–µ—Å—ñ</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#3498db">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #3498db;
            --primary-dark: #2980b9;
            --success: #27ae60;
            --danger: #e74c3c;
            --warning: #f39c12;
            --dark: #2c3e50;
            --light: #ecf0f1;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 400px;
        }

        .screen {
            display: none;
        }

        .active {
            display: block;
        }

        .login-card, .test-container, .results-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            padding: 40px 30px;
            text-align: center;
        }

        .logo {
            font-size: 48px;
            margin-bottom: 20px;
        }

        h1 {
            color: var(--dark);
            margin-bottom: 10px;
            font-size: 24px;
        }

        .subtitle {
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 500;
        }

        input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .btn {
            width: 100%;
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            margin: 5px 0;
        }

        .btn:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: #95a5a6;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .demo-login {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            font-size: 14px;
            color: #7f8c8d;
        }

        .test-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .test-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .test-header {
            background: var(--primary);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-bar {
            background: rgba(255,255,255,0.3);
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
            flex: 1;
            margin: 0 15px;
        }

        .progress-fill {
            background: white;
            height: 100%;
            width: 0%;
            transition: width 0.3s;
        }

        .timer {
            background: rgba(255,255,255,0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
        }

        .question-container {
            padding: 30px;
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 25px;
            color: var(--dark);
            line-height: 1.5;
        }

        .options-container {
            display: grid;
            gap: 10px;
            margin-bottom: 25px;
        }

        .option-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .option-btn:hover {
            border-color: var(--primary);
        }

        .option-btn.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .option-letter {
            width: 30px;
            height: 30px;
            border: 2px solid currentColor;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }

        .test-footer {
            padding: 20px 30px;
            background: #f8f9fa;
            display: flex;
            justify-content: space-between;
        }

        .results-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            margin: 0 auto 25px;
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }

        .score-percent {
            font-size: 28px;
            font-weight: bold;
        }

        .score-details {
            margin: 25px 0;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #f1f2f6;
        }

        .results-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            .login-card, .test-container, .results-container {
                padding: 25px 20px;
            }
            .test-header {
                padding: 15px 20px;
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div class="container">
        <div id="loginScreen" class="screen active">
            <div class="login-card">
                <div class="logo">üéì</div>
                <h1>Tester</h1>
                <p class="subtitle">–ë—ñ–ª—ñ–º —Ç–µ—Å—Ç—ñ–ª–µ—É –∂“Ø–π–µ—Å—ñ</p>
                
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">–ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã –∞—Ç—ã:</label>
                        <input type="text" id="username" placeholder="–ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã –∞—Ç—ã“£—ã–∑–¥—ã –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">“ö“±–ø–∏—è —Å”©–∑:</label>
                        <input type="password" id="password" placeholder="“ö“±–ø–∏—è —Å”©–∑—ñ“£—ñ–∑–¥—ñ –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑" required>
                    </div>
                    
                    <button type="submit" class="btn">–ö—ñ—Ä—É</button>
                </form>

                <div class="demo-login">
                    <strong>–î–µ–º–æ —Ç—ñ—Ä–∫–µ–ª–≥—ñ:</strong><br>
                    –ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã: <strong>demo</strong><br>
                    “ö“±–ø–∏—è —Å”©–∑: <strong>demo</strong>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ç–µ—Å—Ç–∞ -->
        <div id="testSelectScreen" class="screen">
            <div class="login-card">
                <div class="logo">üìö</div>
                <h1>–¢–µ—Å—Ç —Ç–∞“£–¥–∞—É</h1>
                <p class="subtitle">–û“õ—É –º–∞—Ç–µ—Ä–∏–∞–ª—ã–Ω —Ç–µ—Å—Ç—ñ–ª–µ—É</p>
                
                <div id="testsList">
                    <!-- –¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                
                <button class="btn btn-secondary" onclick="logout()">–®—ã“ì—É</button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div id="testScreen" class="screen">
            <div class="test-container">
                <div class="test-header">
                    <div class="test-info">
                        <h2 id="testTitle">–¢–µ—Å—Ç –∞—Ç–∞—É—ã</h2>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span id="progressText">1/10</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                        </div>
                    </div>
                    <div class="timer" id="timer">30:00</div>
                </div>

                <div class="question-container">
                    <div class="question-text" id="questionText">–°“±—Ä–∞“õ –º”ô—Ç—ñ–Ω—ñ...</div>
                    
                    <div class="options-container" id="optionsContainer">
                        <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ -->
                    </div>
                </div>

                <div class="test-footer">
                    <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">–ê–ª–¥—ã“£“ì—ã</button>
                    <button class="btn" id="nextBtn" onclick="nextQuestion()">–ö–µ–ª–µ—Å—ñ</button>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div id="resultsScreen" class="screen">
            <div class="results-container">
                <div class="results-header">
                    <div class="logo">üéâ</div>
                    <h2>–¢–µ—Å—Ç –∞—è“õ—Ç–∞–ª–¥—ã!</h2>
                    <p id="testResultName">–¢–µ—Å—Ç –∞—Ç–∞—É—ã</p>
                </div>

                <div class="score-circle">
                    <div class="score-percent" id="scorePercent">0%</div>
                    <div style="font-size: 12px; opacity: 0.9;">–î“±—Ä—ã—Å –∂–∞—É–∞–ø</div>
                </div>
                
                <div class="score-details">
                    <div class="score-item">
                        <span>–î“±—Ä—ã—Å –∂–∞—É–∞–ø—Ç–∞—Ä:</span>
                        <span id="correctAnswers">0</span>
                    </div>
                    <div class="score-item">
                        <span>“ö–∞—Ç–µ –∂–∞—É–∞–ø—Ç–∞—Ä:</span>
                        <span id="wrongAnswers">0</span>
                    </div>
                    <div class="score-item">
                        <span>–ñ–∞—É–∞–ø –±–µ—Ä—ñ–ª–º–µ–¥—ñ:</span>
                        <span id="unanswered">0</span>
                    </div>
                    <div class="score-item">
                        <span>–£–∞“õ—ã—Ç:</span>
                        <span id="timeSpent">00:00</span>
                    </div>
                </div>

                <div class="results-actions">
                    <button class="btn" onclick="restartTest()">“ö–∞–π—Ç–∞ –±–∞—Å—Ç–∞—É</button>
                    <button class="btn btn-outline" onclick="backToTests()">–ë–∞—Å—Ç—ã –±–µ—Ç–∫–µ –æ—Ä–∞–ª—É</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let tests = [];
        let currentTest = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let shuffledQuestions = [];
        let timerInterval = null;
        let timeLeft = 30 * 60;
        let startTime = null;
        let endTime = null;

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤
        async function loadTests() {
            try {
                // –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç—ã –∏–∑ JSON —Ñ–∞–π–ª–æ–≤
                const testFiles = [
                    './tests/pedagogy.json',
                    './tests/psychology.json'
                ];

                const loadedTests = [];
                for (const file of testFiles) {
                    try {
                        const response = await fetch(file);
                        if (response.ok) {
                            const testData = await response.json();
                            loadedTests.push(testData);
                        }
                    } catch (error) {
                        console.log(`–¢–µ—Å—Ç –∂“Ø–∫—Ç–µ–ª–º–µ–¥—ñ: ${file}`);
                    }
                }

                if (loadedTests.length > 0) {
                    tests = loadedTests;
                } else {
                    // –î–µ–º–æ —Ç–µ—Å—Ç—ã –µ—Å–ª–∏ —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
                    tests = getDemoTests();
                }
            } catch (error) {
                tests = getDemoTests();
            }
        }

        function getDemoTests() {
            return [
                {
                    id: 1,
                    name: "üéì –ü–µ–¥–∞–≥–æ–≥–∏–∫–∞ —Ç–µ—Å—Ç—ñ",
                    description: "–ü–µ–¥–∞–≥–æ–≥–∏–∫–∞–ª—ã“õ –±—ñ–ª—ñ–º–¥–µ—Ä–¥—ñ —Ç–µ—Å—Ç—ñ–ª–µ—É",
                    questions: [
                        {
                            question: "–ò–Ω–∫–ª—é–∑–∏—è ¬´inclusion¬ª —Å–µ–∑—ñ –Ω–µ–Ω—ñ –±—ñ–ª–¥—ñ—Ä–µ–¥—ñ?",
                            options: ["–ï–Ω–≥—ñ–∑—É", "”®–∑–∞—Ä–∞ ”ô—Ä–µ–∫–µ—Ç", "–°“Ø–π–µ–º–µ–ª–¥–µ—É", "–ö–æ—Ä—Ä–µ–∫—Ü–∏—è", "–î–∞–º—ã—Ç—É"],
                            correctAnswer: "–ï–Ω–≥—ñ–∑—É"
                        },
                        {
                            question: "–î–∞–º—É—ã –º–µ–Ω –º—ñ–Ω–µ–∑-“õ“±–ª“õ—ã–Ω–¥–∞ –∞—É—ã—Ç“õ—É—à—ã–ª—ã“ì—ã –±–∞—Ä –±–∞–ª–∞–ª–∞—Ä–¥—ã –µ—Ä—Ç–µ –∞–Ω—ã“õ—Ç–∞–ø, –∑–µ—Ä—Ç—Ç–µ—É –Ω”ô—Ç–∏–∂–µ—Å—ñ–Ω–µ —Å–∞–π “õ–∞–∂–µ—Ç—Ç—ñ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ, –º–µ–¥–∏—Ü–∏–Ω–∞–ª—ã“õ-–ø–µ–¥–∞–≥–æ–≥–∏–∫–∞–ª—ã“õ –∫”©–º–µ–∫ “±—Å—ã–Ω—É –∂”ô–Ω–µ –æ–ª–∞—Ä–¥—ã“£ –æ“õ—ã—Ç—É-—Ç”ô—Ä–±–∏–µ—Å—ñ–Ω “±–π—ã–º–¥–∞—Å—Ç—ã—Ä—É “Ø—à—ñ–Ω “õ–∞–Ω–¥–∞–π –∫–æ–º–∏—Å—Å–∏—è “õ“±—Ä—ã–ª–∞–¥—ã?",
                            options: ["–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ-–º–µ–¥–∏—Ü–∏–Ω–∞–ª—ã“õ-–ø–µ–¥–∞–≥–æ–≥–∏–∫–∞–ª—ã“õ –∫–æ–º–∏—Å—Å–∏—è", "–ò–Ω–∫–ª—é–∑–∏—è", "–ë–µ–π—ñ–º–¥–µ–ª–≥–µ–Ω –±—ñ–ª—ñ–º –±–µ—Ä—É –±–∞“ì–¥–∞—Ä–ª–∞–º–∞—Å—ã", "–ñ–µ–∫–µ –æ“õ—É –∂–æ—Å–ø–∞—Ä—ã", "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è"],
                            correctAnswer: "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ-–º–µ–¥–∏—Ü–∏–Ω–∞–ª—ã“õ-–ø–µ–¥–∞–≥–æ–≥–∏–∫–∞–ª—ã“õ –∫–æ–º–∏—Å—Å–∏—è"
                        },
                        {
                            question: "–ú“Ø–º–∫—ñ–Ω–¥—ñ–≥—ñ —à–µ–∫—Ç–µ—É–ª—ñ –∞–¥–∞–º–¥–∞—Ä–¥—ã“£ –ø—Å–∏—Ö–æ—Ñ–∏–∑–∏–∫–∞–ª—ã“õ –µ—Ä–µ–∫—à–µ–ª—ñ–∫—Ç–µ—Ä—ñ –º–µ–Ω –∂–µ–∫–µ –º“Ø–º–∫—ñ–Ω–¥—ñ–∫—Ç–µ—Ä—ñ–Ω –µ—Å–∫–µ—Ä—ñ–ø, “õ–∞–∂–µ—Ç –±–æ–ª“ì–∞–Ω –∂–∞“ì–¥–∞–π–¥–∞ –æ–ª–∞—Ä–¥—ã“£ –¥–∞–º—É—ã–Ω–¥–∞“ì—ã –∞—É—ã—Ç“õ—É—à—ã–ª—ã“õ—Ç–∞—Ä–¥—ã —Ç“Ø–∑–µ—Ç—É–¥—ñ –∂”ô–Ω–µ ”ô–ª–µ—É–º–µ—Ç—Ç—ñ–∫ –±–µ–π—ñ–º–¥–µ—É–¥—ñ “õ–∞–º—Ç–∞–º–∞—Å—ã–∑ –µ—Ç–µ—Ç—ñ–Ω –±—ñ–ª—ñ–º –±–µ—Ä—É –±–∞“ì–¥–∞—Ä–ª–∞–º–∞—Å—ã?",
                            options: ["–ë–µ–π—ñ–º–¥–µ–ª–≥–µ–Ω –±—ñ–ª—ñ–º –±–µ—Ä—É –±–∞“ì–¥–∞—Ä–ª–∞–º–∞—Å—ã", "–ò–Ω–∫–ª—é–∑–∏—è", "–ñ–µ–∫–µ –æ“õ—É –∂–æ—Å–ø–∞—Ä—ã", "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è", "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ-–º–µ–¥–∏—Ü–∏–Ω–∞–ª—ã“õ-–ø–µ–¥–∞–≥–æ–≥–∏–∫–∞–ª—ã“õ –∫–æ–º–∏—Å—Å–∏—è"],
                            correctAnswer: "–ë–µ–π—ñ–º–¥–µ–ª–≥–µ–Ω –±—ñ–ª—ñ–º –±–µ—Ä—É –±–∞“ì–¥–∞—Ä–ª–∞–º–∞—Å—ã"
                        },
                        {
                            question: "–ë–µ–ª–≥—ñ–ª—ñ –±—ñ—Ä –æ“õ—É—à—ã–Ω—ã“£ –µ—Ä–µ–∫—à–µ–ª—ñ–∫—Ç–µ—Ä—ñ –º–µ–Ω –±—ñ–ª—ñ–º –±–µ—Ä—É “õ–∞–∂–µ—Ç—Ç—ñ–ª—ñ–∫—Ç–µ—Ä—ñ–Ω –µ—Å–∫–µ—Ä—ñ–ø, –æ“õ—É –±–∞“ì–¥–∞—Ä–ª–∞–º–∞—Å—ã–Ω –∂–µ–∫–µ–ª–µ–ø –º–µ“£–≥–µ—Ä—É–¥—ñ “õ–∞–º—Ç–∞–º–∞—Å—ã–∑ –µ—Ç–µ—Ç—ñ–Ω –æ“õ—É –∂–æ—Å–ø–∞—Ä—ã?",
                            options: ["–ñ–µ–∫–µ –æ“õ—É –∂–æ—Å–ø–∞—Ä—ã", "–ò–Ω–∫–ª—é–∑–∏—è", "–ë–µ–π—ñ–º–¥–µ–ª–≥–µ–Ω –±—ñ–ª—ñ–º –±–µ—Ä—É –±–∞“ì–¥–∞—Ä–ª–∞–º–∞—Å—ã", "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è", "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ-–º–µ–¥–∏—Ü–∏–Ω–∞–ª—ã“õ-–ø–µ–¥–∞–≥–æ–≥–∏–∫–∞–ª—ã“õ –∫–æ–º–∏—Å—Å–∏—è"],
                            correctAnswer: "–ñ–µ–∫–µ –æ“õ—É –∂–æ—Å–ø–∞—Ä—ã"
                        }
                    ]
                },
                {
                    id: 2,
                    name: "üî¨ –ü—Å–∏—Ö–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç—ñ",
                    description: "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è–ª—ã“õ –±—ñ–ª—ñ–º–¥–µ—Ä–¥—ñ —Ç–µ—Å—Ç—ñ–ª–µ—É",
                    questions: [
                        {
                            question: "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –¥–µ–≥–µ–Ω –Ω–µ?",
                            options: ["–ê–¥–∞–º –ø—Å–∏—Ö–∏–∫–∞—Å—ã–Ω –∑–µ—Ä—Ç—Ç–µ–π—Ç—ñ–Ω “ì—ã–ª—ã–º", "–ú–∏ “õ—ã–∑–º–µ—Ç—ñ–Ω –∑–µ—Ä—Ç—Ç–µ—É", "–ú—ñ–Ω–µ–∑-“õ“±–ª—ã“õ—Ç—ã –±–∞—Å“õ–∞—Ä—É", "–ñ–µ–∫–µ —Ç“±–ª“ì–∞–Ω—ã –¥–∞–º—ã—Ç—É"],
                            correctAnswer: "–ê–¥–∞–º –ø—Å–∏—Ö–∏–∫–∞—Å—ã–Ω –∑–µ—Ä—Ç—Ç–µ–π—Ç—ñ–Ω “ì—ã–ª—ã–º"
                        },
                        {
                            question: "–≠–º–æ—Ü–∏—è–ª–∞—Ä –Ω–µ “Ø—à—ñ–Ω “õ–∞–∂–µ—Ç?",
                            options: ["”®–º—ñ—Ä —Å“Ø—Ä—É “Ø—à—ñ–Ω –±–µ–π—ñ–º–¥–µ–ª—É", "–û–π–ª–∞—É “Ø—à—ñ–Ω", "–ï—Å—Ç—É “Ø—à—ñ–Ω", "–ö”©—Ä—É “Ø—à—ñ–Ω"],
                            correctAnswer: "”®–º—ñ—Ä —Å“Ø—Ä—É “Ø—à—ñ–Ω –±–µ–π—ñ–º–¥–µ–ª—É"
                        }
                    ]
                }
            ];
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadTests().then(() => {
                initializeApp();
            });
        });

        function initializeApp() {
            // –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                if (username === 'demo' && password === 'demo') {
                    showTestSelectScreen();
                } else {
                    alert('“ö–∞—Ç–µ –ø–∞–π–¥–∞–ª–∞–Ω—É—à—ã –∞—Ç—ã –Ω–µ–º–µ—Å–µ “õ“±–ø–∏—è —Å”©–∑!');
                }
            });
        }

        function showTestSelectScreen() {
            document.getElementById('loginScreen').classList.remove('active');
            document.getElementById('testSelectScreen').classList.add('active');
            
            const testsList = document.getElementById('testsList');
            testsList.innerHTML = '';
            
            tests.forEach(test => {
                const testCard = document.createElement('div');
                testCard.className = 'test-card';
                testCard.innerHTML = `
                    <h3 style="margin-bottom: 10px; color: #2c3e50;">${test.name}</h3>
                    <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 10px;">${test.description}</p>
                    <div style="color: #95a5a6; font-size: 12px;">‚ùì ${test.questions.length} —Å“±—Ä–∞“õ</div>
                `;
                
                testCard.onclick = () => startTest(test);
                testsList.appendChild(testCard);
            });
        }

        function startTest(test) {
            currentTest = test;
            currentQuestionIndex = 0;
            userAnswers = [];
            timeLeft = 30 * 60;
            startTime = new Date();
            
            shuffledQuestions = shuffleQuestions(test.questions);
            startTimer();
            
            document.getElementById('testSelectScreen').classList.remove('active');
            document.getElementById('testScreen').classList.add('active');
            
            document.getElementById('testTitle').textContent = test.name;
            showQuestion();
        }

        function shuffleQuestions(questions) {
            return questions.map(question => {
                const options = [...question.options];
                const correctAnswer = question.correctAnswer;
                
                for (let i = options.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [options[i], options[j]] = [options[j], options[i]];
                }
                
                const newCorrectIndex = options.indexOf(correctAnswer);
                
                return {
                    ...question,
                    options: options,
                    correctIndex: newCorrectIndex
                };
            });
        }

        function showQuestion() {
            const question = shuffledQuestions[currentQuestionIndex];
            const optionsContainer = document.getElementById('optionsContainer');
            
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('progressText').textContent = 
                `${currentQuestionIndex + 1}/${shuffledQuestions.length}`;
            document.getElementById('progressFill').style.width = 
                `${((currentQuestionIndex + 1) / shuffledQuestions.length) * 100}%`;
            
            optionsContainer.innerHTML = '';
            question.options.forEach((option, index) => {
                const optionBtn = document.createElement('div');
                optionBtn.className = 'option-btn';
                optionBtn.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionBtn.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(optionBtn);
            });
            
            document.getElementById('prevBtn').style.visibility = 
                currentQuestionIndex > 0 ? 'visible' : 'hidden';
            document.getElementById('nextBtn').textContent = 
                currentQuestionIndex === shuffledQuestions.length - 1 ? '–ê—è“õ—Ç–∞—É' : '–ö–µ–ª–µ—Å—ñ';
        }

        function selectAnswer(selectedIndex) {
            const options = document.querySelectorAll('.option-btn');
            options.forEach(btn => btn.classList.remove('selected'));
            options[selectedIndex].classList.add('selected');
            userAnswers[currentQuestionIndex] = selectedIndex;
        }

        function nextQuestion() {
            if (currentQuestionIndex < shuffledQuestions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                finishTest();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        function startTimer() {
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) finishTest();
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function finishTest() {
            clearInterval(timerInterval);
            endTime = new Date();
            const results = calculateResults();
            
            document.getElementById('testScreen').classList.remove('active');
            document.getElementById('resultsScreen').classList.add('active');
            showResults(results);
        }

        function calculateResults() {
            let correctCount = 0;
            let wrongCount = 0;
            let unansweredCount = 0;
            
            shuffledQuestions.forEach((question, index) => {
                const userAnswerIndex = userAnswers[index];
                const isCorrect = userAnswerIndex === question.correctIndex;
                const isAnswered = userAnswerIndex !== undefined;
                
                if (isAnswered && isCorrect) correctCount++;
                else if (isAnswered && !isCorrect) wrongCount++;
                else unansweredCount++;
            });
            
            const totalQuestions = shuffledQuestions.length;
            const percentage = Math.round((correctCount / totalQuestions) * 100);
            const timeSpent = startTime ? Math.floor((endTime - startTime) / 1000) : 0;
            const minutes = Math.floor(timeSpent / 60);
            const seconds = timeSpent % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            return {
                totalQuestions,
                correctCount,
                wrongCount,
                unansweredCount,
                percentage,
                timeSpent: timeString
            };
        }

        function showResults(results) {
            document.getElementById('testResultName').textContent = currentTest.name;
            document.getElementById('scorePercent').textContent = `${results.percentage}%`;
            document.getElementById('correctAnswers').textContent = results.correctCount;
            document.getElementById('wrongAnswers').textContent = results.wrongCount;
            document.getElementById('unanswered').textContent = results.unansweredCount;
            document.getElementById('timeSpent').textContent = results.timeSpent;
            
            const scoreCircle = document.querySelector('.score-circle');
            if (results.percentage >= 80) {
                scoreCircle.style.background = 'var(--success)';
            } else if (results.percentage >= 60) {
                scoreCircle.style.background = 'var(--warning)';
            } else {
                scoreCircle.style.background = 'var(--danger)';
            }
        }

        function restartTest() {
            currentQuestionIndex = 0;
            userAnswers = [];
            timeLeft = 30 * 60;
            startTime = new Date();
            shuffledQuestions = shuffleQuestions(currentTest.questions);
            startTimer();
            
            document.getElementById('resultsScreen').classList.remove('active');
            document.getElementById('testScreen').classList.add('active');
            showQuestion();
        }

        function backToTests() {
            document.getElementById('resultsScreen').classList.remove('active');
            document.getElementById('testSelectScreen').classList.add('active');
        }

        function logout() {
            document.getElementById('testSelectScreen').classList.remove('active');
            document.getElementById('loginScreen').classList.add('active');
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }
    </script>
</body>
</html>
